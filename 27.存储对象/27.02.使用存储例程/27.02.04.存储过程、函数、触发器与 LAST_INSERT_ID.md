# **27.2.4 存储过程、函数、触发器与** 

# **LAST_INSERT_ID()**





在存储例程（存储过程或函数）或触发器的主体中，LAST_INSERT_ID() 的行为与在这些对象之外执行语句时相同（参见 [14.15, Information Functions](#)）。



存储例程或触发器对 LAST_INSERT_ID() 的影响，取决于其类型：



- **存储过程（Stored Procedure）**

  如果存储过程执行了修改 LAST_INSERT_ID() 值的语句，那么**该修改后的值**会被后续语句看到。

- **存储函数（Stored Function）和触发器（Trigger）**

  如果存储函数或触发器修改了 LAST_INSERT_ID() 的值，当函数或触发器结束时，该值会被**恢复**，因此后续语句**不会看到修改后的值**。





------


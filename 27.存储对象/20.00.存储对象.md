# 第 27 章 存储对象

**目录**



- [27.1 定义存储程序](./27.01.定义存储程序.md)
- [27.2 使用存储例程](./27.02.使用存储例程/27.02.00.使用存储例程.md)
- [27.3 使用触发器](./27.03.使用触发器/27.03.00.使用触发器.md)
- [27.4 使用事件调度器](./27.04.使用事件调度器/27.04.00.使用事件调度器.md)
- [27.5 使用视图](./27.05.使用视图/27.05.00.使用视图.md)
- [27.6 存储对象访问控制](./27.06.存储对象访问控制.md)
- [27.7 存储程序二进制日志记录](./27.07.存储程序二进制日志记录.md)
- [27.8 存储程序限制](./27.08.存储程序限制.md)
- [27.9 视图限制](./27.09.视图限制.md)

本章讨论**存储数据库对象**，这些对象通过 SQL 代码在服务器上定义并存储，以供后续执行。

存储对象包括以下类型：

- **存储过程**：使用 `CREATE PROCEDURE` 创建，通过 CALL 语句调用。过程本身**没有返回值**，但可以修改其参数以便调用者稍后检查。它也可以生成**结果集**返回给客户端程序。
- **存储函数**：使用 `CREATE FUNCTION` 创建，类似内置函数使用。你在表达式中调用它，它会在表达式求值时返回一个值。
- **触发器**：使用 `CREATE TRIGGER` 创建，并与某个表关联。当表发生特定事件（如 `INSERT` 或 `UPDATE`）时，触发器会被激活。
- **事件**：使用 `CREATE EVENT` 创建，并由服务器根据计划调度执行。
- **视图**：使用 `CREATE VIEW` 创建，被引用时会生成一个结果集。视图表现为一个**虚拟表**。

本章中的术语反映了存储对象的层次结构：

- **存储例程**（Stored routines）包括存储过程和存储函数。
- **存储程序**（Stored programs）包括存储例程、触发器和事件。
- **存储对象**（Stored objects）包括存储程序和视图。

本章描述了如何使用存储对象。以下章节还将提供与这些对象相关的 SQL 语句语法以及对象处理的更多信息：

- 对于每种对象类型，都有 CREATE、ALTER 和 DROP 语句来控制对象的存在与定义方式。参见 [第 15.1 节，数据定义语句](#)。
- CALL 语句用于调用存储过程。参见 [第 15.2.1 节，CALL 语句](#)。
- 存储程序定义包含一个**主体**（body），其中可以使用复合语句（compound statements）、循环（loops）、条件（conditionals）以及声明变量。参见 [第 15.6 节，复合语句语法](#)。
- 对存储程序所引用对象的**元数据修改**会被检测到，并在程序下次执行时自动重新解析受影响的语句。更多信息参见 [第 10.10.3 节，预处理语句和存储程序的缓存](#)。
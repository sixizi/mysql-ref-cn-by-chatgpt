## 7.6.7.5 克隆加密数据（Cloning Encrypted Data）





支持克隆加密数据，适用以下要求：



- 在克隆远程数据时，**必须使用加密连接**，以确保未加密的表空间密钥在网络上传输过程中的安全性。

  表空间密钥会在 donor 端解密，然后在传输至 recipient 后使用 recipient 的主密钥重新加密。

  如果无法建立加密连接，或在 CLONE INSTANCE 语句中使用了 `REQUIRE NO SSL`，将会报错。

  有关如何配置加密连接，请参见 [配置克隆的加密连接（Configuring an Encrypted Connection for Cloning）](#configuring-an-encrypted-connection-for-cloning)。

- 当克隆到使用本地管理 keyring 的本地数据目录时，**启动克隆目录上的 MySQL 服务器时必须使用相同的 keyring**。

- 当克隆到使用本地管理 keyring 的远程数据目录（即 recipient 的目录）时，**启动克隆目录上的 MySQL 服务器时必须使用 recipient 的 keyring**。





> **注意**

> 在克隆操作进行期间，不能修改 `innodb_redo_log_encrypt` 和 `innodb_undo_log_encrypt` 变量的设置。



有关数据加密功能的详细信息，请参见 [第 17.13 节，InnoDB 静态数据加密（InnoDB Data-at-Rest Encryption）](#17-13-innodb-data-at-rest-encryption)。
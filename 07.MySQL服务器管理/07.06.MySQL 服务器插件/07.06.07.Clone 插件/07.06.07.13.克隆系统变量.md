#### 7.6.7.13 克隆系统变量

本节介绍用于控制 clone 插件操作的一系列系统变量。如果启动时指定的值不正确，clone 插件可能无法正确初始化，服务器将不会加载它，并可能因不识别其他克隆设置而输出错误信息。

每个系统变量都有一个 **默认值**。可以在服务器启动时通过命令行或配置文件设置系统变量。也可在运行时使用 SET 语句动态更改，从而修改服务器行为，无需重启服务器。

通常修改全局系统变量需具备 `SYSTEM_VARIABLES_ADMIN`（或已弃用的 `SUPER`）权限，并且变量设置在执行克隆操作所在的 recipient MySQL 实例上。

- clone_autotune_concurrency

| **属性**   | **值**                                                       |
| ---------- | ------------------------------------------------------------ |
| 命令行格式 | --clone-autotune-concurrency                                 |
| 类型       | Boolean                                                      |
| 默认值     | ON                                                           |
| 引入版本   | 8.0.17                                                       |
| 描述       | 启用自动线程调优以优化远程克隆的数据传输速度。线程数量将动态增加，若速度提升不达预期则停止增长。仅适用于 recipient 实例。 |



------





### **clone_buffer_size**



| **属性**   | **值**                                                       |
| ---------- | ------------------------------------------------------------ |
| 命令行格式 | --clone-buffer-size                                          |
| 类型       | Integer（单位：字节）                                        |
| 默认值     | 4194304（4 MiB）                                             |
| 范围       | 1048576 ~ 268435456                                          |
| 引入版本   | 8.0.17                                                       |
| 描述       | 指定本地克隆操作中用于数据传输的中间缓冲区大小。较大的缓冲区可提高 I/O 并行效率。 |



------





### **clone_block_ddl**



| **属性**   | **值**                                                       |
| ---------- | ------------------------------------------------------------ |
| 命令行格式 | --clone-block-ddl                                            |
| 类型       | Boolean                                                      |
| 默认值     | OFF                                                          |
| 引入版本   | 8.0.27                                                       |
| 描述       | 控制是否在 donor 实例上克隆期间阻止并发 DDL 操作（通过获取备份锁实现）。 |



------





### **clone_delay_after_data_drop**



| **属性**   | **值**                                                       |
| ---------- | ------------------------------------------------------------ |
| 命令行格式 | --clone-delay-after-data-drop                                |
| 类型       | Integer（单位：秒）                                          |
| 默认值     | 0                                                            |
| 范围       | 0 ~ 3600                                                     |
| 引入版本   | 8.0.29                                                       |
| 描述       | 指定在远程克隆操作开始时，删除旧数据后的延迟时间，以确保文件系统空间释放。 |



------





### **clone_ddl_timeout**



| **属性**   | **值**                                                   |
| ---------- | -------------------------------------------------------- |
| 命令行格式 | --clone-ddl-timeout                                      |
| 类型       | Integer（单位：秒）                                      |
| 默认值     | 300                                                      |
| 范围       | 0 ~ 2592000（30 天）                                     |
| 引入版本   | 8.0.17                                                   |
| 描述       | 指定克隆操作等待备份锁的时间。若设为 0，则不等待备份锁。 |



------





### **clone_donor_timeout_after_network_failure**



| **属性**   | **值**                                                       |
| ---------- | ------------------------------------------------------------ |
| 命令行格式 | --clone-donor-timeout-after-network-failure                  |
| 类型       | Integer（单位：分钟）                                        |
| 默认值     | 5                                                            |
| 范围       | 0 ~ 30                                                       |
| 引入版本   | 8.0.24                                                       |
| 描述       | 网络故障时，donor 允许 recipient 重连并恢复克隆的最大时间。设为 0 表示立即放弃。仅在 donor 实例上有效。 |



------





### **clone_enable_compression**



| **属性**   | **值**                                                      |
| ---------- | ----------------------------------------------------------- |
| 命令行格式 | --clone-enable-compression                                  |
| 类型       | Boolean                                                     |
| 默认值     | OFF                                                         |
| 引入版本   | 8.0.17                                                      |
| 描述       | 启用远程克隆时的数据压缩。可节省网络带宽，但增加 CPU 使用。 |



------





### **clone_max_concurrency**



| **属性**   | **值**                                                       |
| ---------- | ------------------------------------------------------------ |
| 命令行格式 | --clone-max-concurrency                                      |
| 类型       | Integer（单位：线程）                                        |
| 默认值     | 16                                                           |
| 范围       | 1 ~ 128                                                      |
| 引入版本   | 8.0.17                                                       |
| 描述       | 远程克隆操作允许的最大并发线程数。线程数越多，性能越高但连接数受限。 |



------





### **clone_max_data_bandwidth**



| **属性**   | **值**                                                      |
| ---------- | ----------------------------------------------------------- |
| 命令行格式 | --clone-max-data-bandwidth                                  |
| 类型       | Integer（单位：MiB/s）                                      |
| 默认值     | 0（无限制）                                                 |
| 范围       | 0 ~ 1048576                                                 |
| 引入版本   | 8.0.17                                                      |
| 描述       | 限制远程克隆的最大数据传输速率。仅在 recipient 实例上有效。 |



------





### **clone_max_network_bandwidth**



| **属性**   | **值**                                                     |
| ---------- | ---------------------------------------------------------- |
| 命令行格式 | --clone-max-network-bandwidth                              |
| 类型       | Integer（单位：MiB/s）                                     |
| 默认值     | 0（无限制）                                                |
| 范围       | 0 ~ 1048576                                                |
| 引入版本   | 8.0.17                                                     |
| 描述       | 限制网络传输速率，以控制网络资源使用。仅适用于 recipient。 |



------





### **clone_ssl_ca**



| **属性**   | **值**                                 |
| ---------- | -------------------------------------- |
| 命令行格式 | --clone-ssl-ca=file_name               |
| 类型       | File name                              |
| 默认值     | 空字符串                               |
| 引入版本   | 8.0.14                                 |
| 描述       | 指定用于远程克隆的 CA 根证书文件路径。 |



------





### **clone_ssl_cert**



| **属性**   | **值**                               |
| ---------- | ------------------------------------ |
| 命令行格式 | --clone-ssl-cert=file_name           |
| 类型       | File name                            |
| 默认值     | 空字符串                             |
| 引入版本   | 8.0.14                               |
| 描述       | 指定用于远程克隆的公钥证书文件路径。 |



------





### **clone_ssl_key**



| **属性**   | **值**                           |
| ---------- | -------------------------------- |
| 命令行格式 | --clone-ssl-key=file_name        |
| 类型       | File name                        |
| 默认值     | 空字符串                         |
| 引入版本   | 8.0.14                           |
| 描述       | 指定用于远程克隆的私钥文件路径。 |



------





### **clone_valid_donor_list**



| **属性**   | **值**                                                       |
| ---------- | ------------------------------------------------------------ |
| 命令行格式 | --clone-valid-donor-list=value                               |
| 类型       | String                                                       |
| 默认值     | NULL                                                         |
| 引入版本   | 8.0.17                                                       |
| 描述       | 定义允许远程克隆的 donor 主机及端口列表，格式为 "HOST:PORT"，用逗号分隔。仅支持 IPv4 或 IPv6 的别名。 |



------



如需翻译对应的 **状态变量（status variables）** 或 SHOW 输出等内容，也可以告诉我。
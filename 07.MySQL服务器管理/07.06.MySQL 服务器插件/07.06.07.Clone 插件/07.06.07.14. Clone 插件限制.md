、



## **7.6.7.14 克隆插件的限制**





clone 插件具有以下限制：



- **不支持跨 MySQL 主版本系列克隆。**

  例如，不能在 MySQL 8.0 与 MySQL 8.4 之间进行克隆，但可以在同一个系列内（如 MySQL 8.0.37 与 MySQL 8.0.42）进行克隆。

  在 8.0.37 之前的版本中，次版本号也必须完全一致，例如不能从 8.0.36 克隆到 8.0.42，反之亦然。

- **在 MySQL 8.0.27 之前，克隆操作期间 donor 与 recipient 不允许执行 DDL（包括 TRUNCATE TABLE）。**

  选择数据源时应考虑此限制。

  一种变通方法是使用专用的 donor 实例，在克隆过程中可以接受 DDL 被阻塞的情况。

  同时执行 DML 是允许的。

- **从 MySQL 8.0.27 起，默认允许 donor 并发执行 DDL。**

  是否支持并发 DDL 由系统变量 [clone_block_ddl](#clone_block_ddl) 控制。

  详见 [7.6.7.4 Cloning and Concurrent DDL](#7.6.7.4-cloning-and-concurrent-ddl)。

- **从 donor 克隆到 hotfix 实例（版本与发行号相同）仅在 MySQL 8.0.26 及以上版本中支持。**

- **一次只能克隆一个 MySQL 实例。**

  不支持在单次克隆操作中克隆多个 MySQL 实例。

- **不支持使用 X Protocol 端口（由 mysqlx_port 指定）进行远程克隆操作。**

  即在 CLONE INSTANCE 语句中指定 donor 实例端口时，不能使用该端口。

- **clone 插件不支持克隆 MySQL 服务器配置。**

  recipient 实例保留其自身的配置，包括持久化的系统变量设置。

  参见：[7.1.9.3 Persisted System Variables](#7.1.9.3-persisted-system-variables)。

- **不支持克隆二进制日志（binary logs）。**

- **仅克隆 InnoDB 存储引擎中的数据。**

  其他存储引擎中的数据不会被克隆。

  所有 MyISAM 和 CSV 表（包括 sys 模式中的表）将作为空表被克隆。

- **不支持通过 MySQL Router 连接到 donor 进行克隆操作。**

- **本地克隆操作不支持克隆以绝对路径创建的通用表空间（general tablespaces）。**

  如果克隆出的表空间文件路径与源文件相同，会导致路径冲突。